<div class="m-player">
    <div class="lock">
        <div class="left"><i></i></div>
    </div>
    <!-- hand点击，整体就出现 -->
    <div class="hand"></div>
    <div class="container">
        <div class="wrap">
            <div class="btns">
                <i class="prev" (click)="onPrev(currentIndex-1)"></i>
                <i class="toggle" [class.playing]="playing" (click)="onToggle()"></i>
                <i class="next" (click)="onNext(currentIndex+1)"></i>
            </div>

            <div class="head">
                <img [src]="picUrl" alt="" />
                <i class="mask"></i>
            </div>

            <div class="play">
                <!-- 就是歌曲和歌手名字 -->
                <div class="words clearfix">
                    <p class="ellipsis margin-bottom-none">{{ currentSong?.name}}</p>
                    <ul class="songs clearfix margin-bottom-none">
                        <!-- 注意这里 last as isLast， 这样 / 在最后 -->
                        <li *ngFor="let item of currentSong?.ar, last as isLast">
                            <a>{{item.name}}</a>
                            <span [hidden]="isLast">/</span>
                        </li>
                    </ul>
                </div>

                <!-- 进度条 -->
                <div class="bar">
                    <div class="slider-wrap">
                        <app-wy-slider [bufferOffset]="bufferOffset" [(ngModel)]='sliderValue'></app-wy-slider>
                    </div>
                    <!-- 歌曲的时间 -->
                    <span class="time"> <em>{{currentTime | formatTime}} </em> / {{duration | formatTime}} </span>
                </div>
            </div>

            <!-- 右边的几个小的图标 -->
            <div class="oper">
                <i class="like" title="收藏"></i>
                <i class="share" title="分享"></i>
            </div>
            <div class="ctrl">
                <i class="volume" title="音量"></i>
                <i class="loop" title="循环"></i>
                <!-- 展开播放面板的按钮 -->
                <p class="open">
                    <span></span>
                </p>

                <!-- volumn control -->
                <div class="control-vol">
                    <app-wy-slider [wyVertical]="true"></app-wy-slider>
                </div>
            </div>
        </div>
    </div>

    <!-- Add audio to play songs -->
    <!-- 当currentTime更新时会触发timeupdate事件, 用来更新上面当前播放的秒数 -->
    <audio
        #audio
        [src]="currentSong?.url"
        (canplay)="onCanPlay()"
        (timeupdate) ="onTimeUpdate($event)"
    ></audio>
</div>
